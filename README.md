# Как использовать

- Скопировать все содержимое `main.js` в консоль
- Использовать функцию `connectNodes`

# Что нужно реализовать

- Анимация связи
  Через svg animateMotion анимировать движение шарика вдоль линии связи

- Независимый цвет
  Для того чтобы связь была видна вне зависимости от бэкграунда для линии можно использовать svg filter

- Оптимальное положение линии
  Нужно вычислить с какой стороны каждого элемента должна начиться связь
  Решение: описать алгоритм для поиска координат линии

- Странное отображение для фигур:
  Возможно стоит окружать объекты элементы рамками (svg rect) и рисовать связь уже от этих рамок. Так должно выглядеть более корректно

# Как можно улушить

- Переписать на typescript
- Настроить бандлер
- Настроить CI/СD чтобы на коммит в мастер код билдился, минимизирвался и отправлялся на cdn
- Подключать скрипт через элемент script(через js консоль или добавлением тэга script вручную)

# Проблемы которые возникнут

- Элемент может быть перекрыт, не виден, иметь нулевые размеры и тд.
  Нужно описать функцию проверки на видимость через getComputedStyles, getBoundingClientRect, elementFromPoint
- Проблемы с производительностью
  Из-за частых вызовов dom инструментов происходит вычисления dom которые вредят производительности.
  Нужно минимизировать их использование и стараться писать код так чтобы изменения могли батчиться
  Также сейчас происходит перерисовка при скролле потому что используются координаты относительно viewport, скорее всего это можно исправить, но пока я не придумал решения
  Также можно попробовать вместо интервала использовать MutationObserver, но там также есть проблемы
- Создание уже сущевствующих связей
  Нужно проверять сущевствует ли уже связь. Если есть то уведомлять юзера и не создавать новую
- Функция может что-то стирать в глобальном объекте
  Мало вероятно. Нужно при создании функции проверять используется ли уже на странице что-то по этому ключу и выдавать ошибку если да
- Элемент для поиска может быть в shadow root или iframe. Если shadow root closed то к нему обратиться нельзя. В случае с фреймами можно вести поиск также в документах фрейма обратившись через window.frames
